# Static Factory Method

## 개요

- static 메서드를 통해 간접적으로 생성자를 호출하여 객체를 생성하는 방법

## 장점

- 생성 목적에 따라서 이름을 부여할 수 있다.

  - 원하는 특성을 가진 인스턴스를 생성하기 위해서는 생성자의 인자들에 어떤 것들이 있는지 미리 알아야 한다.
  - 생성자는 이름을 가질 수 없기 때문에 생성되는 인스턴스가 어떤 특성을 가지고 있는지 한번에 파악하기 어렵다.
  - 정적 팩토리 메서드를 이용한다면, 메소드에 적절하게 이름을 지어줘서 객체의 특성을 쉽게 파악할 수 있게 된다.
  - 또한 같은 타입을 인자로 갖는 생성자를 여러개 생성할 수도 있다.
- 호출될 때마다 인스턴스를 새로 생성하지 않아도 된다.

  - 생성자는 매번 새로운 인스턴스를 생성한다.
  - 정적 팩토리 메서드는 필요한 인스턴스를 미리 생성해놓은 후 캐싱하고, 캐싱된 인스턴스를 재활용하는 방식으로 불필요한 객체 생성을 피할 수 있다.
  - 물론 필요에 따라서 매번 새로운 객체를 생성해서 반환할 수도 있기 때문에 생성되는 인스턴스를 통제할 수 있다는 장점이 있다.
- 하위 타입의 객체를 반환할 수 있다

  - 객체를 생성할 때, 각 상황에 맞는 하위 타입의 객체를 생성하여 반환할 수 있다.
  - 하위 타입의 구체적인 구현을 알지 못해도 인터페이스를 이용하여 객체를 사용할 수 있다.
- 인자에 따라 다른 객체를 반환할 수 있다
  - 위의 장점과 연결되는 부분으로, 메서드의 인자를 통해 분기하여 각 상황에 맞는 객체를 생성하여 반환할 수 있다.

- 메서드 작성 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다
  - 이건 모르겠음 이해안감 나중에 다시보기


## 단점

- 정적 팩토리 메서드만 제공할 경우 상속이 불가능하다.
  - 정적 팩토리 메서드만을 사용할 경우 생성자는 private로 설정하게 된다
  - 생성자가 접근 불가능하기 때문에 상속을 할 수 없다.
  - 하지만 상속 대신 컴포지션을 사용하도록 유도하기 때문에 장점이 될 수 있다.
- 다른 개발자들이 찾기 어렵다.
  - 생성자는 api 설명에 명확히 드러나는데 반해, 정적 팩토리 메서드는 수많은 메서드들 사이에 있기 때문에 찾기가 힘들다.



## 이름 규칙

- from: 하나의 매개 변수를 받아서 객체 생성
- of: 여러개의 매개 변수를 받아서 객체 생성
- valueOf: 매개변수와 동일한 값을 가지는 객체 생성
- instance/getInstance: 매개변수로 명시한 인스턴스를 반환하지만, 같은 인스턴스임을 보장하지 않음
- create / newInstance: 매번 새로운 인스턴스를 생성해서 반환함
- getType: 다른 타입의 인스턴스를 생성, 같은 인스턴스임을 보장하지 않음
- newType: 다른 타입의 인스턴스를 생성, 항상 새로운 인스턴스를 생성해 반환함
- type: getType, newType의 간결한 버전

