# Weekly paper 11

## 컨테이너

- 애플리케이션의 코드와 모든 종속성을 패키징하는 표준 소프트웨어 단위

- 앱의 실행 환경을 하나로 패키징해서 호스트 os 위에서 격리되어 독립적으로 실행할 수 있게 하는 기술

- 이미지로 앱과 종속성을 패키징해서 여러 컴퓨팅 환경에 쉽게 배포하고 실행할 수 있음

- 도커 등장 이전에도 lxc와 같은 컨테이너 기술이 존재했음

### 가상 머신과의 차이

![도커 이미지](https://velog.velcdn.com/images%2Fgeunwoobaek%2Fpost%2F3fbe6059-4e28-44c7-9f18-bbf357e02d34%2Fimage.png)

- 가상 머신은 하이퍼바이저위에 여러개의 vm이 올라가 있고, vm은 자체적인 게스트 os를 가짐
- 컨테이너는 하나의 호스트 os를 공유하고, 그 위에서 애플리케이션만을 격리
- 전체 os를 가상화하는 것이 아니라 애플리케이션만 격리하기 때문에 기존 가상 머신에 비해서 더 경량화되어 있음

## docker

- 컨테이너를 쉽게 사용할 수 있도록 만든 오픈소스 기반의 도구
- 컨테이너 생성과 실행을 간단한 방법으로 수행할 수 있게 함
- Dockerfile로 이미지를 생성할 수 있고, dockerhub로 생성한 이미지를 공유할 수 있음

## 다른 컨테이너 도구들

- LXD: 우분투 개발사에서 만든 컨테이너 플랫폼
- OpenVZ: 완전한 운영 체제를 실행하기 위한 컨테이너 플랫폼

## 컨테이너 오케스트레이션

컨테이너로 서비스를 하게 되면 편리하게 서비스를 운영할 수 있다. 하지만 컨테이너의 개수가 많아지면 관리에 어려움을 겪는다. 컨테이너가 2~3개일 때는 하나가 종료되면 찾아서 수동으로 다시 키면 되지만 수백개가 넘어가면 일일히 하나하나 신경쓰기가 매우 어려워진다. 컨테이너 오케스트레이션은 마치 지휘자가 연주자들을 컨트롤하듯이 메인 컨트롤러가 컨테이너들을 관리하는 것을 의미한다. 컨테이너의 배포, 관리, 확장, 네트워킹 등을 메인 컨트롤러에게 위임하고 자동화해서 안정성과 확장성을 확보한다

컨테이너 오케스트레이션이 해결하는 주요 문제점은 다음과 같다

- 자동 확장
  - 애플리케이션의 트래픽이나 리소스 사용률에 따라 자동적으로 컨테이너를 확대 또는 축소하는 것 
  - 리소스 사용률이 높아지면 컨테이너를 늘리고, 적어지면 줄여서 효율적으로 운용할 수 있음
- 자가 복구
  - 컨테이너의 상태를 모니터링해서 다운된 컨테이너가 있으면 자동으로 재시작 또는 교체함

- 선언적 인프라
  - 설정 파일에 인프라를 선언해놓으면 시스템이 자동으로 유지함


